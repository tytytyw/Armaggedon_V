{"version":3,"sources":["components/Header/Header.jsx","components/Basket/Basket.jsx","components/FilterAsteroids/FilterAsteroids.jsx","components/functions/CalcAasteroidBg.js","components/functions/Characteristics.js","components/AsteroidCard/AsteroidCard.jsx","components/Main/Main.jsx","components/Detail/Detail.jsx","components/App/App.js","index.js"],"names":["Header","className","to","id","Basket","useEffect","document","querySelector","classList","remove","add","FilterAsteroids","distanceChange","clickFilter","distanceDisplay","useState","distanceDisplayValue","onChange","type","name","htmlFor","onClick","data-value","CalcAasteroidBg","state","backgroundSize","size","backgroundPositionY","this","Math","sqrt","backgroundPositionX","Specifications","item","date","Date","toLocaleString","day","month","year","distanceKM","round","distanceLunar","toFixed","isDanger","AsteroidCard","localStorage","setItem","style","title","slice","data-id","Main","asteroidsList","setAsteroidsList","visibleAsteroidList","setVisibleAsteroidList","displayOnlyDanger","setdisplayOnlyDanger","fetching","setfetching","requestUrl","setrequestUrl","getItem","setdistanceDisplay","fetch","then","answer","json","data","links","next","replace","dataConcat","Object","keys","sort","a","b","forEach","index","length","catch","error","console","log","finally","filter","addEventListener","scrollHadler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","dataset","value","checked","map","CircularProgress","Detail","asteroiData","setAsteroiData","location","hash","split","answ","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98caabae.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { HashRouter, Link } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nfunction Header() {\r\n\r\n    return (\r\n        <HashRouter>\r\n            <header className='header'>\r\n                <div className='header__text-wrap'>\r\n                    <h1 className=\"header__title\">\r\n                        <Link className=\"header__title-link\" to='/'>ARMAGGEDON V</Link>\r\n                    </h1>\r\n                    <h2 className=\"header__subtitle\">Сервис мониторинга и уничтожения астероидов, опасно подлетающих к Земле.</h2>\r\n                </div>\r\n                <nav className=\"header__nav\">\r\n                    <Link id='main-link' className=\"header__link\" to='/'>Астероиды</Link>\r\n                    <Link id='destroy-link' className=\"header__link\" to='/destroy'>Уничтожение</Link>\r\n                </nav>\r\n            </header>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useEffect } from 'react'\r\n\r\nfunction Basket() {\r\n\r\n    useEffect(() => {\r\n        if ( document.querySelector('.header__link.header__link_active')) {\r\n            document.querySelector('.header__link.header__link_active').classList.remove('header__link_active')\r\n        }\r\n        document.querySelector('#destroy-link.header__link').classList.add('header__link_active')\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            basket\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n","import React, { useState, useEffect } from 'react';\r\nimport './FilterAsteroids.css';\r\n\r\nfunction FilterAsteroids({distanceChange, clickFilter, distanceDisplay}) {\r\n\r\n    const [distanceDisplayValue, setdistanceDisplayValue] = useState(distanceDisplay)\r\n    useEffect(() => {\r\n\r\n        if (document.querySelector('.filter__item.filter__item_active')) {\r\n            document.querySelector('.filter__item.filter__item_active').classList.remove('filter__item_active')\r\n        }\r\n        document.querySelector(`.filter__item[data-value='${distanceDisplayValue}']`).classList.add('filter__item_active')\r\n        // localStorage.getItem('distanceDisplay') === lu ?\r\n        // filter__item_active\r\n    }, [distanceDisplayValue])\r\n\r\n    return (\r\n        <div className='filter'>\r\n            <div className=\"filter__danger-wrap\">\r\n                <input onChange={clickFilter} type=\"checkbox\" name=\"filter_danger\" id=\"filter_danger\"/>\r\n                <label htmlFor=\"filter_danger\">\r\n                    <span>Показать только опасные</span>\r\n                </label>\r\n            </div>\r\n            <div className=\"filter__distance-wrap\">\r\n                <div className=\"filter__km-wrap\">\r\n                    <span className=\"filter__distance-title\">Расстояние </span>\r\n                    <div onClick={distanceChange} data-value='km' className= \"filter__item\">в километрах, </div>\r\n                </div>\r\n                <div onClick={distanceChange} data-value='lu' className= \"filter__item\">в дистанциях до луны</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterAsteroids\r\n","// формула подчета размера астероида и его смещения\r\nfunction CalcAasteroidBg(state) {\r\n    const CalcAasteroidBg  = {\r\n        backgroundSize: state.size - state.size/3,\r\n        backgroundPositionY: function() {return -this.backgroundSize + Math.sqrt(this.backgroundSize) + 100},\r\n        backgroundPositionX: function() {return -this.backgroundSize + Math.sqrt(this.backgroundSize)*21}\r\n    }\r\n    return CalcAasteroidBg\r\n}\r\nexport default CalcAasteroidBg","// запись хар-к астероида\r\nfunction Specifications(item) {\r\n    return {\r\n        date: new Date(item['close_approach_data'][0]['epoch_date_close_approach']).toLocaleString('ru', {day:'numeric', month:'long',year:'numeric'}),\r\n        distanceKM: Math.round(+item['close_approach_data'][0]['miss_distance']['kilometers'])+\" км\",\r\n        distanceLunar: (+item['close_approach_data'][0]['miss_distance']['lunar']).toFixed(1)+\" раз до луны\",\r\n        size: Math.round(item['estimated_diameter']['meters']['estimated_diameter_max']),\r\n        isDanger: item['is_potentially_hazardous_asteroid']\r\n    }\r\n}\r\n\r\nexport default Specifications","import React from 'react'\r\nimport './AsteroidCard.css'\r\nimport { Link } from 'react-router-dom';\r\nimport CalcAasteroidBg from '../functions/CalcAasteroidBg';\r\nimport Specifications from '../functions/Characteristics'\r\n\r\n\r\nfunction AsteroidCard({ item, distanceDisplay }) {\r\n\r\n    localStorage.setItem('distanceDisplay', distanceDisplay)\r\n    const state = new Specifications(item);\r\n\r\n    const style = {\r\n        backgroundSize: CalcAasteroidBg(state).backgroundSize,\r\n        backgroundPositionY: CalcAasteroidBg(state).backgroundPositionY(),\r\n        backgroundPositionX: CalcAasteroidBg(state).backgroundPositionX()\r\n    }\r\n\r\n    return (\r\n        <div className= {state.isDanger ? \"bg-gradient bg-gradient_danger\" : \"bg-gradient\"}>\r\n            <div style={style} className='ast-card'>\r\n                <div className=\"ast-card__start\">\r\n                </div>\r\n\r\n                <div className=\"ast-card__medium\">\r\n                    <h2 title={`подробнее об ${item.name}`} className=\"ast-card__name\">\r\n                        <Link to={`/details?id=${item.id}`}>\r\n                            {item.name}\r\n                        </Link>\r\n                    </h2>\r\n                    <div className=\"ast-card__decr-item ast-card__decr_date\">\r\n                        <span className=\"ast-card__decr-title\">Дата</span>\r\n                        <span className=\"ast-card__decr-dots\"></span>\r\n                        <span className=\"ast-card__decr-value\">{state.date.slice(0, -3)}</span>\r\n                    </div>\r\n                    <div className=\"ast-card__decr-item ast-card__decr_dist\">\r\n                        <span className=\"ast-card__decr-title\">Расстояние</span>\r\n                        <span className=\"ast-card__decr-dots\"></span>\r\n                        <span className=\"ast-card__decr-value\">{distanceDisplay === 'km' ? state.distanceKM : state.distanceLunar}</span>\r\n                    </div>\r\n                    <div className=\"ast-card__decr-item ast-card__decr-size\">\r\n                        <span className=\"ast-card__decr-title\">Размер</span>\r\n                        <span className=\"ast-card__decr-dots\"> </span>\r\n                        <span className=\"ast-card__decr-value\">{state.size} м</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"ast-card__end\">\r\n                    <p className=\"ast-card__evaluate-title\">Оценка: </p>\r\n                    <p className=\"ast-card__evaluate-value\">{state.isDanger ? \"Опасен\" : \"Не опасен\"}</p>\r\n                    <button data-id={item.id} className='ast-card__destroy-btn'>На уничтожение</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AsteroidCard","import React, {useState, useEffect} from 'react';\r\nimport './Main.css';\r\nimport FilterAsteroids from '../FilterAsteroids/FilterAsteroids';\r\nimport AsteroidCard from '../AsteroidCard/AsteroidCard';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nfunction Main() {\r\n\r\n    const [asteroidsList, setAsteroidsList] = useState([]);\r\n    const [visibleAsteroidList, setVisibleAsteroidList] = useState([]);\r\n    const [displayOnlyDanger, setdisplayOnlyDanger] = useState(false)\r\n    const [fetching, setfetching] = useState(true);\r\n    const [requestUrl, setrequestUrl] = useState('https://api.nasa.gov/neo/rest/v1/feed?api_key=Qg1ksuSgpuseUwl1wPGcWh4xVL45gHz3dv83Jmfp')\r\n    const [distanceDisplay, setdistanceDisplay] = useState(localStorage.getItem('distanceDisplay') || 'km')\r\n\r\n    useEffect(() => {\r\n        if (fetching) {\r\n            fetch(requestUrl)\r\n                .then(answer => {\r\n                    return (answer.json())})\r\n                .then(data => {\r\n                    setrequestUrl(data.links.next.replace('http://','https://'))\r\n                    let dataConcat = [];\r\n                    Object.keys(data['near_earth_objects']).sort((a,b) => new Date(a) - new Date(b)).forEach((item, index) => {\r\n                        if (index !== Object.keys(data['near_earth_objects']).length - 1) dataConcat = [...dataConcat, ...data['near_earth_objects'][item]]\r\n                    })\r\n                    setAsteroidsList([...asteroidsList, ...dataConcat].sort((a, b) => a['close_approach_data'][0]['epoch_date_close_approach'] - b['close_approach_data'][0]['epoch_date_close_approach']))\r\n\r\n                })\r\n                .catch(error => console.log(error))\r\n                .finally(() => setfetching(false))\r\n        }\r\n    }, [fetching])\r\n\r\n    useEffect(() => {\r\n        setVisibleAsteroidList(displayOnlyDanger ?\r\n            asteroidsList.filter(item => item['is_potentially_hazardous_asteroid']) :\r\n            asteroidsList)\r\n\r\n\r\n    }, [asteroidsList, displayOnlyDanger])\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"scroll\", scrollHadler)\r\n        if (document.querySelector('.header__link.header__link_active')) {\r\n            document.querySelector('.header__link.header__link_active').classList.remove('header__link_active')\r\n        }\r\n        document.querySelector('#main-link.header__link').classList.add('header__link_active')\r\n\r\n        return () => {\r\n            document.removeEventListener(\"scroll\", scrollHadler)\r\n        }\r\n    }, [])\r\n\r\n    const scrollHadler = (e) => {\r\n\r\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 250) {\r\n            setfetching(true)\r\n        }\r\n    }\r\n\r\n    const distanceChange = (e) => {\r\n        setdistanceDisplay(e.target.dataset.value)\r\n        document.querySelector('.filter__item.filter__item_active').classList.remove('filter__item_active')\r\n        e.target.classList.add('filter__item_active')\r\n\r\n    }\r\n\r\n    // item['is_potentially_hazardous_asteroid']\r\n    const clickFilter = (e) => {\r\n        setdisplayOnlyDanger(e.target.checked)\r\n    }\r\n\r\n    // const detailsClick = () => {\r\n    //     document.querySelector('.header__link_active').classList.remove('header__link_active')\r\n    // }\r\n\r\n    return (\r\n        <div className='main'>\r\n            <FilterAsteroids distanceChange={distanceChange} clickFilter={clickFilter} distanceDisplay={distanceDisplay}/>\r\n            <div className=\"ast-wrap\">\r\n                {visibleAsteroidList.map(item =>\r\n                    <AsteroidCard\r\n                        key={item.id+item['close_approach_data'][0]['close_approach_date_full']}\r\n                        item={item}\r\n                        distanceDisplay={distanceDisplay}\r\n                        // detailsClick={detailsClick}\r\n                    />)}\r\n                {fetch ? <CircularProgress /> : \"\"}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import './Detail.css'\r\nimport React, {useState, useEffect} from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Specifications from '../functions/Characteristics';\r\nimport CalcAasteroidBg from '../functions/CalcAasteroidBg'\r\n\r\n\r\nfunction Detail() {\r\n\r\n    const [asteroiData, setAsteroiData] = useState(0)\r\n    const [fetching, setfetching] = useState(true)\r\n    const [distanceDisplay, setdistanceDisplay] = useState(localStorage.getItem('distanceDisplay') || 'km')\r\n\r\n\r\n    useEffect(() => {\r\n        if ( document.querySelector('.header__link.header__link_active'))\r\n            document.querySelector('.header__link.header__link_active').classList.remove('header__link_active')\r\n\r\n        if (document.querySelector('.filter__item.filter__item_active')) {\r\n            document.querySelector('.filter__item.filter__item_active').classList.remove('filter__item_active')\r\n        }\r\n        if (document.querySelector(`.filter__item[data-value='${distanceDisplay}']`)) {\r\n            document.querySelector(`.filter__item[data-value='${distanceDisplay}']`).classList.add('filter__item_active')\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const id = window.location.hash.split('id=')[1];\r\n        fetch(`http://www.neowsapp.com/rest/v1/neo/${id}?api_key=Qg1ksuSgpuseUwl1wPGcWh4xVL45gHz3dv83Jmfp`)\r\n            .then(answ => answ.json())\r\n            .then(data => setAsteroiData(data))\r\n            .finally(() => setfetching(false))\r\n    }, [])\r\n\r\n    let state, style;\r\n\r\n    if (asteroiData) {\r\n        state = new Specifications(asteroiData);\r\n        style = {\r\n            backgroundSize: CalcAasteroidBg(state).backgroundSize,\r\n            backgroundPositionY: CalcAasteroidBg(state).backgroundPositionY(),\r\n            backgroundPositionX: CalcAasteroidBg(state).backgroundPositionX()\r\n        }\r\n    }\r\n\r\n    const distanceChange = (e) => {\r\n        setdistanceDisplay(e.target.dataset.value)\r\n        document.querySelector('.filter__item.filter__item_active').classList.remove('filter__item_active')\r\n        e.target.classList.add('filter__item_active')\r\n    }\r\n\r\n    //temp\r\n    return (\r\n        fetching ? <CircularProgress /> : \r\n        <>\r\n        <div className=\"filter__distance-wrap filter__distance-wrap_detail\">\r\n            <div className=\"filter__km-wrap\">\r\n                <span className=\"filter__distance-title\">Расстояние </span>\r\n                <div onClick={distanceChange} data-value='km'className= {distanceDisplay === 'km'? \"filter__item filter__item_active\" : \"filter__item\"}>в километрах, </div>\r\n            </div>\r\n            <div onClick={distanceChange} data-value='lu' className= {distanceDisplay === 'lu'? \"filter__item filter__item_active\" : \"filter__item\"}>в дистанциях до луны</div>\r\n        </div>\r\n        <div className= {state.isDanger ? \"bg-gradient bg-gradient_details bg-gradient_danger\" : \"bg-gradient bg-gradient_details\"}>\r\n            <div style={style} className='ast-card'>\r\n                <div className=\"ast-card__start\">\r\n                </div>\r\n\r\n                <div className=\"ast-card__medium\">\r\n                    <h2 className=\"ast-card__name ast-card__name_basket\">{asteroiData.name}</h2>\r\n                    <div className=\"ast-card__decr-item ast-card__decr_date\">\r\n                        <span className=\"ast-card__decr-title\">Дата</span>\r\n                        <span className=\"ast-card__decr-dots\"></span>\r\n                        <span className=\"ast-card__decr-value\">{state.date.slice(0, -3)}</span>\r\n                    </div>\r\n                    <div className=\"ast-card__decr-item ast-card__decr_dist\">\r\n                        <span className=\"ast-card__decr-title\">Расстояние</span>\r\n                        <span className=\"ast-card__decr-dots\"></span>\r\n                        <span className=\"ast-card__decr-value\">{distanceDisplay === 'km' ? state.distanceKM : state.distanceLunar}</span>\r\n                    </div>\r\n                    <div className=\"ast-card__decr-item ast-card__decr-size\">\r\n                        <span className=\"ast-card__decr-title\">Размер</span>\r\n                        <span className=\"ast-card__decr-dots\"> </span>\r\n                        <span className=\"ast-card__decr-value\">{state.size} м</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"ast-card__end\">\r\n                    <p className=\"ast-card__evaluate-title\">Оценка: </p>\r\n                    <p className=\"ast-card__evaluate-value\">{state.isDanger ? \"Опасен\" : \"Не опасен\"}</p>\r\n                    <button data-id={asteroiData.id} className='ast-card__destroy-btn'>На уничтожение</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Detail\r\n","import './App.css';\nimport Header from '../Header/Header';\nimport React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Basket from '../Basket/Basket';\nimport Main from '../Main/Main';\nimport Detail from '../Detail/Detail'\n\n\nfunction App() {\n  return (\n    <div className=\"container\" >\n      <Header />\n      <HashRouter>\n        <Route path='/' exact component={Main} />\n        <Route path='/destroy' component={Basket} />\n        <Route path='/details' component={Detail} />\n\n        {/* <Route path='/more' component={More} /> */}\n      </HashRouter>\n      <footer className='footer'>2021 © Все права и планета защищены</footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
{"version":3,"sources":["components/Header/Header.jsx","components/Basket/Basket.jsx","components/FilterAsteroids/FilterAsteroids.jsx","components/functions/CalcAasteroidBg.js","components/functions/Characteristics.js","components/AsteroidCard/AsteroidCard.jsx","components/Main/Main.jsx","components/Detail/Detail.jsx","components/App/App.js","index.js"],"names":["Header","className","to","id","Basket","useEffect","document","querySelector","classList","remove","add","FilterAsteroids","distanceChange","clickFilter","distanceDisplay","useState","distanceDisplayValue","onChange","type","name","htmlFor","onClick","data-value","CalcAasteroidBg","state","backgroundSize","size","backgroundPositionY","this","Math","sqrt","backgroundPositionX","Specifications","item","date","Date","toLocaleString","day","month","year","distanceKM","round","distanceLunar","toFixed","isDanger","AsteroidCard","localStorage","setItem","style","title","designation","substr","slice","data-id","Main","asteroidsList","setAsteroidsList","visibleAsteroidList","setVisibleAsteroidList","displayOnlyDanger","setdisplayOnlyDanger","fetching","setfetching","requestUrl","setrequestUrl","getItem","setdistanceDisplay","fetch","then","answer","json","data","links","next","replace","dataConcat","Object","keys","sort","a","b","forEach","index","length","catch","error","console","log","finally","filter","addEventListener","scrollHadler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","dataset","value","checked","map","CircularProgress","Detail","asteroiData","setAsteroiData","location","hash","split","answ","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"sTAgCeA,MA5Bf,WACC,OACC,cAAC,IAAD,UACC,yBAAQC,UAAU,SAAlB,UACC,sBAAKA,UAAU,oBAAf,UACC,oBAAIA,UAAU,gBAAd,SACC,cAAC,IAAD,CAAMA,UAAU,qBAAqBC,GAAG,IAAxC,4BAID,oBAAID,UAAU,mBAAd,kZAKD,sBAAKA,UAAU,cAAf,UACC,cAAC,IAAD,CAAME,GAAG,YAAYF,UAAU,eAAeC,GAAG,IAAjD,oEAGA,cAAC,IAAD,CAAMC,GAAG,eAAeF,UAAU,eAAeC,GAAG,WAApD,yF,OCJUE,MAjBf,WAUC,OATAC,qBAAU,WACLC,SAASC,cAAc,sCAC1BD,SAASC,cAAc,qCACrBC,UAAUC,OAAO,uBAEpBH,SAASC,cAAc,8BACrBC,UAAUE,IAAI,yBACd,IAGI,0C,2BCqCOC,MA/Cf,YAA4E,IAAjDC,EAAgD,EAAhDA,eAAgBC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,gBAAmB,EAClBC,mBACvDD,GAFyE,mBACnEE,EADmE,KAe1E,OAf0E,KAI1EX,qBAAU,WACLC,SAASC,cAAc,sCAC1BD,SACEC,cAAc,qCACdC,UAAUC,OAAO,uBAEpBH,SACEC,cADF,oCAC6CS,EAD7C,OAEER,UAAUE,IAAI,yBACd,CAACM,IAGH,sBAAKf,UAAU,SAAf,UACC,sBAAKA,UAAU,sBAAf,UACC,uBACCgB,SAAUJ,EACVK,KAAK,WACLC,KAAK,gBACLhB,GAAG,kBAEJ,uBAAOiB,QAAQ,gBAAf,SACC,yKAGF,sBAAKnB,UAAU,wBAAf,UACC,sBAAKA,UAAU,kBAAf,UACC,sBAAMA,UAAU,yBAAhB,2EACA,sBACCoB,QAAST,EACTU,aAAW,KACXrB,UAAU,eAHX,iFAKe,UAGhB,qBAAKoB,QAAST,EAAgBU,aAAW,KAAKrB,UAAU,eAAxD,8H,MC7BWsB,MAZf,SAAyBC,GAUxB,MATwB,CACvBC,eAAgBD,EAAME,KAAOF,EAAME,KAAO,EAC1CC,oBAAqB,WACpB,OAAQC,KAAKH,eAAiBI,KAAKC,KAAKF,KAAKH,gBAAkB,KAEhEM,oBAAqB,WACpB,OAAQH,KAAKH,eAAkD,GAAjCI,KAAKC,KAAKF,KAAKH,mBCYjCO,MAnBf,SAAwBC,GACvB,MAAO,CACNC,KAAM,IAAIC,KACTF,EAAI,oBAAwB,GAA5B,2BACCG,eAAe,KAAM,CAAEC,IAAK,UAAWC,MAAO,OAAQC,KAAM,YAC9DC,WACCX,KAAKY,OACHR,EAAI,oBAAwB,GAA5B,0BACE,gBACLS,gBACGT,EAAI,oBAAwB,GAA5B,qBAA0DU,QAAQ,GACpE,4DACDjB,KAAMG,KAAKY,MACVR,EAAI,mBAAJ,+BAEDW,SAAUX,EAAI,oCCyDDY,MAnEf,YAAkD,IAA1BZ,EAAyB,EAAzBA,KAAMnB,EAAmB,EAAnBA,gBAC7BgC,aAAaC,QAAQ,kBAAmBjC,GACxC,IAAMU,EAAQ,IAAIQ,EAAeC,GAE3Be,EAAQ,CACbvB,eAAgBF,EAAgBC,GAAOC,eACvCE,oBAAqBJ,EAAgBC,GAAOG,sBAC5CI,oBAAqBR,EAAgBC,GAAOO,uBAE7C,OACC,qBACC9B,UACCuB,EAAMoB,SAAW,iCAAmC,cAFtD,SAKC,sBAAKI,MAAOA,EAAO/C,UAAU,WAA7B,UACC,qBAAKA,UAAU,oBAEf,sBAAKA,UAAU,mBAAf,UACC,oBACCgD,MAAK,8EAAkBhB,EAAKiB,aAC5BjD,UAAU,iBAFX,SAIC,cAAC,IAAD,CACsBA,UAAU,sBACVC,GAAE,sBAAiB+B,EAAK9B,IAF9C,SAIE8B,EAAKd,KAAKgC,OAAO,GAAGC,MAAM,GAAI,OAGjC,sBAAKnD,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,sCACA,sBAAMA,UAAU,wBAChB,sBAAMA,UAAU,uBAAhB,SACEuB,EAAMU,KAAKkB,MAAM,GAAI,QAGxB,sBAAKnD,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,0EACA,sBAAMA,UAAU,wBAChB,sBAAMA,UAAU,uBAAhB,SACsB,OAApBa,EACEU,EAAMgB,WACNhB,EAAMkB,mBAGX,sBAAKzC,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,kDACA,sBAAMA,UAAU,sBAAhB,eACA,uBAAMA,UAAU,uBAAhB,UAAwCuB,EAAME,KAA9C,mBAIF,sBAAKzB,UAAU,gBAAf,UACC,mBAAGA,UAAU,2BAAb,oDACA,mBAAGA,UAAU,2BAAb,SACEuB,EAAMoB,SAAW,uCAAW,sDAE9B,wBAAQS,UAASpB,EAAK9B,GAAIF,UAAU,wBAApC,sG,QCmDUqD,MA7Gf,WAAiB,IAAD,EAC2BvC,mBAAS,IADpC,mBACRwC,EADQ,KACOC,EADP,OAEuCzC,mBAAS,IAFhD,mBAER0C,EAFQ,KAEaC,EAFb,OAGmC3C,oBAAS,GAH5C,mBAGR4C,EAHQ,KAGWC,EAHX,OAIiB7C,oBAAS,GAJ1B,mBAIR8C,EAJQ,KAIEC,EAJF,OAKqB/C,mBACnC,0FANc,mBAKRgD,EALQ,KAKIC,EALJ,OAQ+BjD,mBAC7C+B,aAAamB,QAAQ,oBAAsB,MAT7B,mBAQRnD,EARQ,KAQSoD,EART,KAYf7D,qBAAU,WACLwD,GACHM,MAAMJ,GACJK,MAAK,SAACC,GACN,OAAOA,EAAOC,UAEdF,MAAK,SAACG,GACNP,EAAcO,EAAKC,MAAMC,KAAKC,QAAQ,UAAW,aACjD,IAAIC,EAAa,GACjBC,OAAOC,KAAKN,EAAI,oBACdO,MAAK,SAACC,EAAGC,GAAJ,OAAU,IAAI7C,KAAK4C,GAAK,IAAI5C,KAAK6C,MACtCC,SAAQ,SAAChD,EAAMiD,GACXA,IAAUN,OAAOC,KAAKN,EAAI,oBAAwBY,OAAS,IAC9DR,EAAU,sBACNA,GADM,YAENJ,EAAI,mBAAuBtC,SAGlCuB,EACC,sBAAID,GAAJ,YAAsBoB,IAAYG,MACjC,SAACC,EAAGC,GAAJ,OACCD,EAAC,oBAAwB,GAAzB,0BACAC,EAAC,oBAAwB,GAAzB,iCAIHI,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,MAC7BG,SAAQ,kBAAM1B,GAAY,QAE3B,CAACD,IAEJxD,qBAAU,WACTqD,EACCC,EACGJ,EAAckC,QAAO,SAAAxD,GAAI,OAAIA,EAAI,qCACjCsB,KAEF,CAACA,EAAeI,IAEnBtD,qBAAU,WAST,OARAC,SAASoF,iBAAiB,SAAUC,GAChCrF,SAASC,cAAc,sCAC1BD,SAASC,cAAc,qCACrBC,UAAUC,OAAO,uBAEpBH,SAASC,cAAc,2BACrBC,UAAUE,IAAI,uBAET,WACNJ,SAASsF,oBAAoB,SAAUD,MAEtC,IAEH,IAAMA,EAAe,SAACE,GAEpBA,EAAEC,OAAOC,gBAAgBC,cAAeH,EAAEC,OAAOC,gBAAgBE,UAAYC,OAAOC,aACzE,KACVrC,GAAY,IAef,OACC,sBAAK7D,UAAU,OAAf,UACC,cAAC,EAAD,CACCW,eAfoB,SAACiF,GACvB3B,EAAmB2B,EAAEC,OAAOM,QAAQC,OACpC/F,SACEC,cAAc,qCACdC,UAAUC,OAAO,uBACnBoF,EAAEC,OAAOtF,UAAUE,IAAI,wBAWrBG,YARiB,SAACgF,GACpBjC,EAAqBiC,EAAEC,OAAOQ,UAQ5BxF,gBAAiBA,IAElB,sBAAKb,UAAU,WAAf,UACEwD,EAAoB8C,KAAI,SAACtE,GAAD,OACxB,cAAC,EAAD,CAKCA,KAAMA,EACNnB,gBAAiBA,GAJhBmB,EAAK9B,GACL8B,EAAI,oBAAwB,GAA5B,6BAOFkC,MAAQ,cAACqC,EAAA,EAAD,IAAuB,U,MC0CrBC,MAjJf,WAAmB,IAqCdjF,EAAOwB,EArCM,EACqBjC,mBAAS,GAD9B,mBACV2F,EADU,KACGC,EADH,OAEe5F,oBAAS,GAFxB,mBAEV8C,EAFU,KAEAC,EAFA,OAG6B/C,mBAC7C+B,aAAamB,QAAQ,oBAAsB,MAJ3B,mBAGVnD,EAHU,KAGOoD,EAHP,KAOjB7D,qBAAU,WACLC,SAASC,cAAc,sCAC1BD,SACEC,cAAc,qCACdC,UAAUC,OAAO,uBAEhBH,SAASC,cAAc,sCAC1BD,SACEC,cAAc,qCACdC,UAAUC,OAAO,uBAGnBH,SAASC,cAAT,oCAAoDO,EAApD,QAEAR,SACEC,cADF,oCAC6CO,EAD7C,OAEEN,UAAUE,IAAI,yBAEf,IAEHL,qBAAU,WACT,IAAMF,EAAK+F,OAAOU,SAASC,KAAKC,MAAM,OAAO,GAC7C3C,MAAM,wCAAD,OACoChE,EADpC,sDAGHiE,MAAK,SAAC2C,GAAD,OAAUA,EAAKzC,UACpBF,MAAK,SAACG,GAAD,OAAUoC,EAAepC,MAC9BiB,SAAQ,kBAAM1B,GAAY,QAC1B,IAGC4C,IACHlF,EAAQ,IAAIQ,EAAe0E,GAC3B1D,EAAQ,CACPvB,eAAgBF,EAAgBC,GAAOC,eACvCE,oBAAqBJ,EAAgBC,GAAOG,sBAC5CI,oBAAqBR,EAAgBC,GAAOO,wBAI9C,IAAMnB,EAAiB,SAACiF,GACvB3B,EAAmB2B,EAAEC,OAAOM,QAAQC,OACpC/F,SACEC,cAAc,qCACdC,UAAUC,OAAO,uBACnBoF,EAAEC,OAAOtF,UAAUE,IAAI,wBAGxB,OAAOmD,EACN,cAAC2C,EAAA,EAAD,IAEA,qCACC,sBAAKvG,UAAU,qDAAf,UACC,sBAAKA,UAAU,kBAAf,UACC,sBAAMA,UAAU,yBAAhB,2EACA,qBACCoB,QAAST,EACTU,aAAW,KACXrB,UACqB,OAApBa,EACG,mCACA,eANL,qFAYD,sBACCO,QAAST,EACTU,aAAW,KACXrB,UACqB,OAApBa,EACG,mCACA,eANL,UASE,IATF,kHAaD,qBACCb,UACCuB,EAAMoB,SACH,qDACA,kCAJL,SAOC,sBAAKI,MAAOA,EAAO/C,UAAU,WAA7B,UACC,qBAAKA,UAAU,oBACf,sBAAKA,UAAU,mBAAf,UACC,oBAAIA,UAAU,uCAAd,SACEyG,EAAYxD,cAEd,sBAAKjD,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,sCACA,sBAAMA,UAAU,wBAChB,sBAAMA,UAAU,uBAAhB,SACEuB,EAAMU,KAAKkB,MAAM,GAAI,QAGxB,sBAAKnD,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,0EACA,sBAAMA,UAAU,wBAChB,sBAAMA,UAAU,uBAAhB,SACsB,OAApBa,EACEU,EAAMgB,WACNhB,EAAMkB,mBAGX,sBAAKzC,UAAU,0CAAf,UACC,sBAAMA,UAAU,uBAAhB,kDAGA,sBAAMA,UAAU,wBAChB,uBAAMA,UAAU,uBAAhB,UAC0BuB,EAAME,KADhC,mBAMF,sBAAKzB,UAAU,gBAAf,UACC,mBAAGA,UAAU,2BAAb,oDACA,mBAAGA,UAAU,2BAAb,SACEuB,EAAMoB,SAAW,uCAAW,sDAE9B,wBACsBS,UAASqD,EAAYvG,GACrBF,UAAU,wBAFhC,yGCnHS+G,MAdf,WACE,OACE,sBAAK/G,UAAU,YAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgH,KAAK,IAAIC,OAAK,EAACC,UAAW7D,IACjC,cAAC,IAAD,CAAO2D,KAAK,WAAWE,UAAW/G,IAClC,cAAC,IAAD,CAAO6G,KAAK,WAAWE,UAAWV,OAEpC,wBAAQxG,UAAU,SAAlB,gLCdNmH,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhH,SAASiH,eAAe,W","file":"static/js/main.1716cfc7.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<HashRouter>\r\n\t\t\t<header className=\"header\">\r\n\t\t\t\t<div className=\"header__text-wrap\">\r\n\t\t\t\t\t<h1 className=\"header__title\">\r\n\t\t\t\t\t\t<Link className=\"header__title-link\" to=\"/\">\r\n\t\t\t\t\t\t\tARMAGGEDON V\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t<h2 className=\"header__subtitle\">\r\n\t\t\t\t\t\tСервис мониторинга и уничтожения астероидов, опасно подлетающих\r\n\t\t\t\t\t\tк Земле.\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<nav className=\"header__nav\">\r\n\t\t\t\t\t<Link id=\"main-link\" className=\"header__link\" to=\"/\">\r\n\t\t\t\t\t\tАстероиды\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link id=\"destroy-link\" className=\"header__link\" to=\"/destroy\">\r\n\t\t\t\t\t\tУничтожение\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</nav>\r\n\t\t\t</header>\r\n\t\t</HashRouter>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction Basket() {\r\n\tuseEffect(() => {\r\n\t\tif (document.querySelector(\".header__link.header__link_active\")) {\r\n\t\t\tdocument.querySelector(\".header__link.header__link_active\")\r\n\t\t\t\t.classList.remove(\"header__link_active\");\r\n\t\t}\r\n\t\tdocument.querySelector(\"#destroy-link.header__link\")\r\n\t\t\t.classList.add(\"header__link_active\");\r\n\t}, []);\r\n\r\n\treturn (\r\n        <div>\r\n            basket\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./FilterAsteroids.css\";\r\n\r\nfunction FilterAsteroids({ distanceChange, clickFilter, distanceDisplay }) {\r\n\tconst [distanceDisplayValue, setdistanceDisplayValue] = useState(\r\n\t\tdistanceDisplay\r\n\t);\r\n\tuseEffect(() => {\r\n\t\tif (document.querySelector(\".filter__item.filter__item_active\")) {\r\n\t\t\tdocument\r\n\t\t\t\t.querySelector(\".filter__item.filter__item_active\")\r\n\t\t\t\t.classList.remove(\"filter__item_active\");\r\n\t\t}\r\n\t\tdocument\r\n\t\t\t.querySelector(`.filter__item[data-value='${distanceDisplayValue}']`)\r\n\t\t\t.classList.add(\"filter__item_active\");\r\n\t}, [distanceDisplayValue]);\r\n\r\n\treturn (\r\n\t\t<div className=\"filter\">\r\n\t\t\t<div className=\"filter__danger-wrap\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={clickFilter}\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tname=\"filter_danger\"\r\n\t\t\t\t\tid=\"filter_danger\"\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor=\"filter_danger\">\r\n\t\t\t\t\t<span>Показать только опасные</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"filter__distance-wrap\">\r\n\t\t\t\t<div className=\"filter__km-wrap\">\r\n\t\t\t\t\t<span className=\"filter__distance-title\">Расстояние </span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={distanceChange}\r\n\t\t\t\t\t\tdata-value=\"km\"\r\n\t\t\t\t\t\tclassName=\"filter__item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tв километрах,{\" \"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div onClick={distanceChange} data-value=\"lu\" className=\"filter__item\">\r\n\t\t\t\t\tв дистанциях до луны\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FilterAsteroids;\r\n","// формула подчета размера астероида и его смещения\r\nfunction CalcAasteroidBg(state) {\r\n\tconst CalcAasteroidBg = {\r\n\t\tbackgroundSize: state.size - state.size / 3,\r\n\t\tbackgroundPositionY: function () {\r\n\t\t\treturn -this.backgroundSize + Math.sqrt(this.backgroundSize) + 100;\r\n\t\t},\r\n\t\tbackgroundPositionX: function () {\r\n\t\t\treturn -this.backgroundSize + Math.sqrt(this.backgroundSize) * 21;\r\n\t\t},\r\n\t};\r\n\treturn CalcAasteroidBg;\r\n}\r\nexport default CalcAasteroidBg;\r\n","// запись хар-к астероида\r\nfunction Specifications(item) {\r\n\treturn {\r\n\t\tdate: new Date(\r\n\t\t\titem[\"close_approach_data\"][0][\"epoch_date_close_approach\"]\r\n\t\t).toLocaleString(\"ru\", { day: \"numeric\", month: \"long\", year: \"numeric\" }),\r\n\t\tdistanceKM:\r\n\t\t\tMath.round(\r\n\t\t\t\t+item[\"close_approach_data\"][0][\"miss_distance\"][\"kilometers\"]\r\n\t\t\t) + \" км\",\r\n\t\tdistanceLunar:\r\n\t\t\t(+item[\"close_approach_data\"][0][\"miss_distance\"][\"lunar\"]).toFixed(1) +\r\n\t\t\t\" раз до луны\",\r\n\t\tsize: Math.round(\r\n\t\t\titem[\"estimated_diameter\"][\"meters\"][\"estimated_diameter_max\"]\r\n\t\t),\r\n\t\tisDanger: item[\"is_potentially_hazardous_asteroid\"],\r\n\t};\r\n}\r\n\r\nexport default Specifications;\r\n","import React from \"react\";\r\nimport \"./AsteroidCard.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CalcAasteroidBg from \"../functions/CalcAasteroidBg\";\r\nimport Specifications from \"../functions/Characteristics\";\r\n\r\nfunction AsteroidCard({ item, distanceDisplay }) {\r\n\tlocalStorage.setItem(\"distanceDisplay\", distanceDisplay);\r\n\tconst state = new Specifications(item);\r\n\r\n\tconst style = {\r\n\t\tbackgroundSize: CalcAasteroidBg(state).backgroundSize,\r\n\t\tbackgroundPositionY: CalcAasteroidBg(state).backgroundPositionY(),\r\n\t\tbackgroundPositionX: CalcAasteroidBg(state).backgroundPositionX(),\r\n\t};\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={\r\n\t\t\t\tstate.isDanger ? \"bg-gradient bg-gradient_danger\" : \"bg-gradient\"\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div style={style} className=\"ast-card\">\r\n\t\t\t\t<div className=\"ast-card__start\"></div>\r\n\r\n\t\t\t\t<div className=\"ast-card__medium\">\r\n\t\t\t\t\t<h2\r\n\t\t\t\t\t\ttitle={`подробнее об ${item.designation}`}\r\n\t\t\t\t\t\tclassName=\"ast-card__name\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Link\r\n                            className=\"ast-card__name-link\"\r\n                            to={`/details?id=${item.id}`}\r\n                        >\r\n\t\t\t\t\t\t\t{item.name.substr(1).slice(0, -1)}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr_date\">\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-title\">Дата</span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"></span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-value\">\r\n\t\t\t\t\t\t\t{state.date.slice(0, -3)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr_dist\">\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-title\">Расстояние</span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"></span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-value\">\r\n\t\t\t\t\t\t\t{distanceDisplay === \"km\"\r\n\t\t\t\t\t\t\t\t? state.distanceKM\r\n\t\t\t\t\t\t\t\t: state.distanceLunar}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr-size\">\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-title\">Размер</span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"> </span>\r\n\t\t\t\t\t\t<span className=\"ast-card__decr-value\">{state.size} м</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"ast-card__end\">\r\n\t\t\t\t\t<p className=\"ast-card__evaluate-title\">Оценка: </p>\r\n\t\t\t\t\t<p className=\"ast-card__evaluate-value\">\r\n\t\t\t\t\t\t{state.isDanger ? \"Опасен\" : \"Не опасен\"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<button data-id={item.id} className=\"ast-card__destroy-btn\">\r\n\t\t\t\t\t\tНа уничтожение\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AsteroidCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Main.css\";\r\nimport FilterAsteroids from \"../FilterAsteroids/FilterAsteroids\";\r\nimport AsteroidCard from \"../AsteroidCard/AsteroidCard\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nfunction Main() {\r\n\tconst [asteroidsList, setAsteroidsList] = useState([]);\r\n\tconst [visibleAsteroidList, setVisibleAsteroidList] = useState([]);\r\n\tconst [displayOnlyDanger, setdisplayOnlyDanger] = useState(false);\r\n\tconst [fetching, setfetching] = useState(true);\r\n\tconst [requestUrl, setrequestUrl] = useState(\r\n\t\t\"https://api.nasa.gov/neo/rest/v1/feed?api_key=Qg1ksuSgpuseUwl1wPGcWh4xVL45gHz3dv83Jmfp\"\r\n\t);\r\n\tconst [distanceDisplay, setdistanceDisplay] = useState(\r\n\t\tlocalStorage.getItem(\"distanceDisplay\") || \"km\"\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fetching) {\r\n\t\t\tfetch(requestUrl)\r\n\t\t\t\t.then((answer) => {\r\n\t\t\t\t\treturn answer.json();\r\n\t\t\t\t})\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tsetrequestUrl(data.links.next.replace(\"http://\", \"https://\"));\r\n\t\t\t\t\tlet dataConcat = [];\r\n\t\t\t\t\tObject.keys(data[\"near_earth_objects\"])\r\n\t\t\t\t\t\t.sort((a, b) => new Date(a) - new Date(b))\r\n\t\t\t\t\t\t.forEach((item, index) => {\r\n\t\t\t\t\t\t\tif (index !== Object.keys(data[\"near_earth_objects\"]).length - 1)\r\n\t\t\t\t\t\t\t\tdataConcat = [\r\n\t\t\t\t\t\t\t\t\t...dataConcat,\r\n\t\t\t\t\t\t\t\t\t...data[\"near_earth_objects\"][item],\r\n\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetAsteroidsList(\r\n\t\t\t\t\t\t[...asteroidsList, ...dataConcat].sort(\r\n\t\t\t\t\t\t\t(a, b) =>\r\n\t\t\t\t\t\t\t\ta[\"close_approach_data\"][0][\"epoch_date_close_approach\"] -\r\n\t\t\t\t\t\t\t\tb[\"close_approach_data\"][0][\"epoch_date_close_approach\"]\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => console.log(error))\r\n\t\t\t\t.finally(() => setfetching(false));\r\n\t\t}\r\n\t}, [fetching]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetVisibleAsteroidList(\r\n\t\t\tdisplayOnlyDanger\r\n\t\t\t\t? asteroidsList.filter(item => item[\"is_potentially_hazardous_asteroid\"])\r\n\t\t\t\t: asteroidsList\r\n\t\t);\r\n\t}, [asteroidsList, displayOnlyDanger]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"scroll\", scrollHadler);\r\n\t\tif (document.querySelector(\".header__link.header__link_active\")) {\r\n\t\t\tdocument.querySelector(\".header__link.header__link_active\")\r\n\t\t\t\t.classList.remove(\"header__link_active\");\r\n\t\t}\r\n\t\tdocument.querySelector(\"#main-link.header__link\")\r\n\t\t\t.classList.add(\"header__link_active\");\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"scroll\", scrollHadler);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst scrollHadler = (e) => {\r\n\t\tif (\r\n\t\t\te.target.documentElement.scrollHeight -(e.target.documentElement.scrollTop + window.innerHeight)\r\n            < 250\r\n\t\t) setfetching(true)\r\n\t};\r\n\r\n\tconst distanceChange = (e) => {\r\n\t\tsetdistanceDisplay(e.target.dataset.value);\r\n\t\tdocument\r\n\t\t\t.querySelector(\".filter__item.filter__item_active\")\r\n\t\t\t.classList.remove(\"filter__item_active\");\r\n\t\te.target.classList.add(\"filter__item_active\");\r\n\t};\r\n\r\n\tconst clickFilter = (e) => {\r\n\t\tsetdisplayOnlyDanger(e.target.checked);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"main\">\r\n\t\t\t<FilterAsteroids\r\n\t\t\t\tdistanceChange={distanceChange}\r\n\t\t\t\tclickFilter={clickFilter}\r\n\t\t\t\tdistanceDisplay={distanceDisplay}\r\n\t\t\t/>\r\n\t\t\t<div className=\"ast-wrap\">\r\n\t\t\t\t{visibleAsteroidList.map((item) => (\r\n\t\t\t\t\t<AsteroidCard\r\n\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\titem.id +\r\n\t\t\t\t\t\t\titem[\"close_approach_data\"][0][\"close_approach_date_full\"]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\tdistanceDisplay={distanceDisplay}\r\n\t\t\t\t\t\t// detailsClick={detailsClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t\t{fetch ? <CircularProgress /> : \"\"}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import \"./Detail.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Specifications from \"../functions/Characteristics\";\r\nimport CalcAasteroidBg from \"../functions/CalcAasteroidBg\";\r\n\r\nfunction Detail() {\r\n\tconst [asteroiData, setAsteroiData] = useState(0);\r\n\tconst [fetching, setfetching] = useState(true);\r\n\tconst [distanceDisplay, setdistanceDisplay] = useState(\r\n\t\tlocalStorage.getItem(\"distanceDisplay\") || \"km\"\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (document.querySelector(\".header__link.header__link_active\"))\r\n\t\t\tdocument\r\n\t\t\t\t.querySelector(\".header__link.header__link_active\")\r\n\t\t\t\t.classList.remove(\"header__link_active\");\r\n\r\n\t\tif (document.querySelector(\".filter__item.filter__item_active\")) {\r\n\t\t\tdocument\r\n\t\t\t\t.querySelector(\".filter__item.filter__item_active\")\r\n\t\t\t\t.classList.remove(\"filter__item_active\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tdocument.querySelector(`.filter__item[data-value='${distanceDisplay}']`)\r\n\t\t) {\r\n\t\t\tdocument\r\n\t\t\t\t.querySelector(`.filter__item[data-value='${distanceDisplay}']`)\r\n\t\t\t\t.classList.add(\"filter__item_active\");\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst id = window.location.hash.split(\"id=\")[1];\r\n\t\tfetch(\r\n\t\t\t`https://www.neowsapp.com/rest/v1/neo/${id}?api_key=Qg1ksuSgpuseUwl1wPGcWh4xVL45gHz3dv83Jmfp`\r\n\t\t)\r\n\t\t\t.then((answ) => answ.json())\r\n\t\t\t.then((data) => setAsteroiData(data))\r\n\t\t\t.finally(() => setfetching(false));\r\n\t}, []);\r\n\r\n\tlet state, style;\r\n\tif (asteroiData) {\r\n\t\tstate = new Specifications(asteroiData);\r\n\t\tstyle = {\r\n\t\t\tbackgroundSize: CalcAasteroidBg(state).backgroundSize,\r\n\t\t\tbackgroundPositionY: CalcAasteroidBg(state).backgroundPositionY(),\r\n\t\t\tbackgroundPositionX: CalcAasteroidBg(state).backgroundPositionX(),\r\n\t\t};\r\n\t}\r\n\r\n\tconst distanceChange = (e) => {\r\n\t\tsetdistanceDisplay(e.target.dataset.value);\r\n\t\tdocument\r\n\t\t\t.querySelector(\".filter__item.filter__item_active\")\r\n\t\t\t.classList.remove(\"filter__item_active\");\r\n\t\te.target.classList.add(\"filter__item_active\");\r\n\t};\r\n\r\n\treturn fetching ? (\r\n\t\t<CircularProgress />\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<div className=\"filter__distance-wrap filter__distance-wrap_detail\">\r\n\t\t\t\t<div className=\"filter__km-wrap\">\r\n\t\t\t\t\t<span className=\"filter__distance-title\">Расстояние </span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={distanceChange}\r\n\t\t\t\t\t\tdata-value=\"km\"\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tdistanceDisplay === \"km\"\r\n\t\t\t\t\t\t\t\t? \"filter__item filter__item_active\"\r\n\t\t\t\t\t\t\t\t: \"filter__item\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tв километрах,\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={distanceChange}\r\n\t\t\t\t\tdata-value=\"lu\"\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tdistanceDisplay === \"lu\"\r\n\t\t\t\t\t\t\t? \"filter__item filter__item_active\"\r\n\t\t\t\t\t\t\t: \"filter__item\"\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\tв дистанциях до луны\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tstate.isDanger\r\n\t\t\t\t\t\t? \"bg-gradient bg-gradient_details bg-gradient_danger\"\r\n\t\t\t\t\t\t: \"bg-gradient bg-gradient_details\"\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div style={style} className=\"ast-card\">\r\n\t\t\t\t\t<div className=\"ast-card__start\"></div>\r\n\t\t\t\t\t<div className=\"ast-card__medium\">\r\n\t\t\t\t\t\t<h2 className=\"ast-card__name ast-card__name_basket\">\r\n\t\t\t\t\t\t\t{asteroiData.designation}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr_date\">\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-title\">Дата</span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"></span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-value\">\r\n\t\t\t\t\t\t\t\t{state.date.slice(0, -3)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr_dist\">\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-title\">Расстояние</span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"></span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-value\">\r\n\t\t\t\t\t\t\t\t{distanceDisplay === \"km\"\r\n\t\t\t\t\t\t\t\t\t? state.distanceKM\r\n\t\t\t\t\t\t\t\t\t: state.distanceLunar}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"ast-card__decr-item ast-card__decr-size\">\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-title\">\r\n                                Размер\r\n                            </span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-dots\"></span>\r\n\t\t\t\t\t\t\t<span className=\"ast-card__decr-value\">\r\n                                {state.size} м\r\n                            </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"ast-card__end\">\r\n\t\t\t\t\t\t<p className=\"ast-card__evaluate-title\">Оценка: </p>\r\n\t\t\t\t\t\t<p className=\"ast-card__evaluate-value\">\r\n\t\t\t\t\t\t\t{state.isDanger ? \"Опасен\" : \"Не опасен\"}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<button\r\n                            data-id={asteroiData.id}\r\n                            className=\"ast-card__destroy-btn\"\r\n                        >\r\n\t\t\t\t\t\t\tНа уничтожение\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Detail;\r\n","import './App.css';\nimport Header from '../Header/Header';\nimport React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Basket from '../Basket/Basket';\nimport Main from '../Main/Main';\nimport Detail from '../Detail/Detail'\n\n\nfunction App() {\n  return (\n    <div className=\"container\" >\n      <Header />\n      <HashRouter>\n        <Route path='/' exact component={Main} />\n        <Route path='/destroy' component={Basket} />\n        <Route path='/details' component={Detail} />\n      </HashRouter>\n      <footer className='footer'>2021 © Все права и планета защищены</footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}